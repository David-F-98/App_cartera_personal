{"version":3,"file":"bundle.js","sources":["../src/eventoBtnFormularioGastos.js","../src/agregarGasto.js"],"sourcesContent":["const formulario =  document.getElementById('formulario-gasto');\r\nconst botonFormulario =  document.getElementById('toggle-form-gasto');\r\n\r\nconst abrirFormularioDesdeGastos = ()=>{\r\n    botonFormulario.classList.add('agregar-gasto__btn--active');\r\n    formulario.classList.add('formulario-gasto--active');\r\n};\r\n\r\nconst cerrarFormularioDesdeGastos = ()=>{\r\n    botonFormulario.classList.remove('agregar-gasto__btn--active');\r\n    formulario.classList.remove('formulario-gasto--active');\r\n};\r\n\r\nbotonFormulario.addEventListener('click',(e)=>{\r\n    const bntActivo = ([...formulario.classList].includes('formulario-gasto--active'));\r\n    if(bntActivo){\r\n        cerrarFormularioDesdeGastos();\r\n    }else{\r\n        abrirFormularioDesdeGastos();\r\n    };\r\n});;","const formulario = document.querySelector('#formulario-gasto form');\r\n//Accedemos al id=descripcion mediante esta otra manera\r\nconst descripcion = formulario.descripcion;\r\nconst precio =  formulario.precio;\r\n\r\nconst expRegDescripcion = /^[a-zA-Z0-9\\_\\- ]{4,30}$/;\r\nconst expRegPrecio = /^\\d+(\\.\\d+)?$/;\r\n\r\nconst comprobarDescripcion = ()=>{\r\n    if(!expRegDescripcion.test(descripcion.value)){\r\n        descripcion.classList.add('formulario-gasto__input--error');\r\n\r\n        //Nos dirijimos al elemento padre y buscamos la clase .formulario-gasto__leyenda para añadirle o modificarlo\r\n        formulario.descripcion.parentElement\r\n            .querySelector('.formulario-gasto__leyenda')\r\n            .classList.add('formulario-gasto__leyenda--active');\r\n\r\n        return false;\r\n    }else{\r\n        descripcion.classList.remove('formulario-gasto__input--error');\r\n\r\n        formulario.descripcion.parentElement\r\n            .querySelector('.formulario-gasto__leyenda')\r\n            .classList.remove('formulario-gasto__leyenda--active');\r\n\r\n        return true;\r\n    };\r\n};\r\n\r\nconst comprobarPrecio = ()=>{\r\n    if(!expRegPrecio.test(precio.value)){\r\n        precio.classList.add('formulario-gasto__input--error');\r\n\r\n        //Nos dirijimos al elemento padre y buscamos la clase .formulario-gasto__leyenda para añadirle o modificarlo\r\n        formulario.precio.parentElement\r\n            .querySelector('.formulario-gasto__leyenda')\r\n            .classList.add('formulario-gasto__leyenda--active');\r\n\r\n        return false;\r\n    }else{\r\n        precio.classList.remove('formulario-gasto__input--error');\r\n\r\n        formulario.precio.parentElement\r\n            .querySelector('.formulario-gasto__leyenda')\r\n            .classList.remove('formulario-gasto__leyenda--active');\r\n\r\n        return true;\r\n    };\r\n};\r\n\r\n\r\n//comprobando al hacer click fuera del input\r\ndescripcion.addEventListener('blur', (e)=>comprobarDescripcion());\r\n//Comprobando al teclear en el input\r\ndescripcion.addEventListener('keyup', (e)=>{\r\n//Trasformamos el elmento que obtenemos en  e.target.classList en una arreglo para saber si tienen la respectiva clase;\r\nconst  validacionAlTeclearDes =   [...e.target.classList].includes('formulario-gasto__input--error');\r\n    if(validacionAlTeclearDes){\r\n        comprobarDescripcion();\r\n    }\r\n});\r\n\r\n\r\n//comprobando al hacer click fuera del input\r\nprecio.addEventListener('blur', (e)=>comprobarPrecio());\r\n//Comprobando al teclear en el input\r\nprecio.addEventListener('keyup', (e)=>{\r\n//Trasformamos el elmento que obtenemos en  e.target.classList en una arreglo para saber si tienen la respectiva clase;\r\nconst  validacionAlTeclearPre =   [...e.target.classList].includes('formulario-gasto__input--error');\r\n    if(validacionAlTeclearPre){\r\n        comprobarPrecio();\r\n    }\r\n});\r\n\r\nformulario.addEventListener('submit',(e)=>{\r\n    e.preventDefault();\r\n    if(comprobarDescripcion() && comprobarPrecio()){\r\n        //Creamos un objeto donde vamos a guadar los diferentes gastos\r\n        const nuevoGasto = {\r\n            id: '1',\r\n            fecha: new Date(),\r\n            descripcion: descripcion.value,\r\n            precio: precio.value\r\n        };\r\n\r\n        const gastosGuardados = JSON.parse(window.localStorage.getItem('gastos'));\r\n        \r\n        //Comprobamos si hay gastos \r\n        if(!gastosGuardados){\r\n            //Si NO tiene, creamos la primera lista de gastos\r\n            window.localStorage.setItem('gastos',JSON.stringify([{...nuevoGasto}]));\r\n        } else{\r\n            //Si tiene, creamos una nueva lista de gastos\r\n            const nuevaListaGastos =  [...gastosGuardados,nuevoGasto];\r\n            window.localStorage.setItem('gastos', JSON.stringify(nuevaListaGastos));\r\n        }\r\n    };\r\n});"],"names":["formulario"],"mappings":"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"}